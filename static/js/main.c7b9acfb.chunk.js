(this.webpackJsonpswapi=this.webpackJsonpswapi||[]).push([[0],{24:function(e,a,t){e.exports=t(42)},29:function(e,a,t){},30:function(e,a,t){},31:function(e,a,t){},37:function(e,a,t){},38:function(e,a,t){},39:function(e,a,t){},40:function(e,a,t){},41:function(e,a,t){},42:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(19),i=t.n(s),c=(t(29),t(23)),l=t(9),o=t(10),u=t(12),m=t(11),d=t(13),h=t(6),f=(t(30),t(3)),v=(t(31),function(e){var a=e.name,t=e.quote,n=e.knowledgeLevel,s=e.favorites.length;return r.a.createElement("aside",{className:"profile"},r.a.createElement("h2",null,"Star Wars Trivia"),r.a.createElement("h3",null,"Hi ",a,"!"),r.a.createElement("h4",null,"Favorite Quote:"),r.a.createElement("h5",null,'"',t,'"'),r.a.createElement("h4",null,"Knowledge Level:"),r.a.createElement("h5",null,n),r.a.createElement(f.b,{to:"/favorites"},r.a.createElement("button",null,"Favorites ",s)),r.a.createElement(f.b,{to:"/"},r.a.createElement("button",null,"Sign Out")),r.a.createElement(f.b,{to:"/movies"},r.a.createElement("button",null,"All Movies")))}),p=(t(37),t(38),function(e){var a=e.id,t=e.title,n=e.date,s=e.characters,i=e.getCharacters,c=new Date(n+"T00:00").toString().split(" ").slice(1,4).join(" "),l=function e(a){return a<1?"":a>=4?"IV"+e(a-4):a>=1?"I"+e(a-1):void 0}(a);return r.a.createElement("div",{className:"movie_card"},r.a.createElement("h3",{className:"episode"},"Episode ",l),r.a.createElement("h4",{className:"movie_card-title"},t),r.a.createElement("h5",null,"Released on ",c),r.a.createElement(f.b,{to:"/movies/".concat(a)},r.a.createElement("button",{className:"movie_card-btn",onClick:function(){return i(s)}},"View Characters")))}),E=function(e){var a=e.movies,t=e.getCharacters,n=a.sort((function(e,a){return e.episode_id-a.episode_id})).map((function(e,a){return r.a.createElement(p,{key:a,id:e.episode_id,title:e.title,date:e.release_date,characters:e.characters,getCharacters:t})}));return r.a.createElement("section",{className:"MovieContainer"},n)},g=(t(39),t(40),function(e){var a=e.name,t=e.homeworld,n=e.population,s=e.species,i=e.films,c=e.updateFavs,l={name:a,homeworld:t,population:n,species:s,films:i},o=i.map((function(e,a){return r.a.createElement("li",{key:a},e)}));return r.a.createElement("div",{className:"CharacterCard"},r.a.createElement("h3",{className:"CharacterCard_name"},a),r.a.createElement("h4",{className:"CharacterCard_homeWorld-title"},"Homeworld:",r.a.createElement("span",{className:"CharacterCard_homeWorld"},t)),r.a.createElement("h4",{className:"CharacterCard_population-title"},"Population:",r.a.createElement("span",{className:"CharacterCard_population"},n)),r.a.createElement("h4",{className:"CharacterCard_species-title"},"Species:",r.a.createElement("span",{className:"CharacterCard_species"},s)),r.a.createElement("h4",{className:"CharacterCard_films"},"Related Films: "),r.a.createElement("ul",{className:"CharacterCard_films-ul"},o),r.a.createElement("button",{className:"CharacterCard_character-btn",onClick:function(){return c(l)}},r.a.createElement("img",{src:"",alt:""}),"Favorite"))}),b=function(e){var a=e.characters,t=e.movieInfo,n=e.updateFavs,s=e.isLoading,i=a.map((function(e){return r.a.createElement(g,{key:e.name,name:e.name,homeworld:e.homeworld,population:e.population,species:e.species,films:e.films,updateFavs:n})}));return r.a.createElement("section",{className:"characterContainer_section"},!t&&r.a.createElement("header",{className:"favs-header"},r.a.createElement("h2",null,"Your Favorite Characters")),0===a.length&&!t&&r.a.createElement("p",{className:"favs-prompt"},"Looks like you do not have any favorites yet. Head back to Movies and click on View Characters to add some favorites here!"),t&&r.a.createElement("header",{className:"scroll"},r.a.createElement("h2",{className:"title"},t.title),r.a.createElement("div",{className:"galaxy"},r.a.createElement("h3",{className:"away"},"A long time ago in a galaxy far, far away..."),r.a.createElement("p",null,t.opening_crawl))),s&&r.a.createElement("h1",null,"Loading ..."),i)},C=t(22),N=(t(41),function(e){function a(){var e;return Object(l.a)(this,a),(e=Object(u.a)(this,Object(m.a)(a).call(this))).handleChange=function(a){e.setState(Object(C.a)({},a.target.name,a.target.value))},e.handleFormSubmit=function(a){e.props.submitUser({name:e.state.name,quote:e.state.quote,knowledgeLevel:e.state.knowledgeLevel})},e.state={name:"",quote:"",knowledgeLevel:""},e}return Object(d.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=this,a=""!==this.state.name&&""!==this.state.quote&&""!==this.state.knowledgeLevel;return r.a.createElement("div",{className:"user_profile-div"},r.a.createElement("img",{className:"user_profile-image",alt:"Yo Jedi laser gif animation gif r2d2 cat menu starwars force jedi",src:"https://cdn.dribbble.com/users/1539273/screenshots/6122439/spoilers_drib.gif"}),r.a.createElement("div",{className:"user_profile-h1-div"},r.a.createElement("h1",{className:"user_profile-h1"},"WELCOME TO ",r.a.createElement("br",null)," SWAPI TRIVIA! ")),r.a.createElement("form",{className:"user_form"},r.a.createElement("div",{className:"user_name-div"},r.a.createElement("label",{className:"user_name-label"},"Name"),r.a.createElement("input",{className:"user_name-input",type:"text",value:this.state.name,name:"name",onChange:function(a){return e.handleChange(a)}})),r.a.createElement("div",{className:"user_quote-div"},r.a.createElement("label",{className:"user_quote-label"},"Favorite SW Quote?"),r.a.createElement("textarea",{className:"user_quote-textarea",value:this.state.quote,name:"quote",onChange:function(a){return e.handleChange(a)}})),r.a.createElement("div",{className:"user_radio-btn-div"},r.a.createElement("label",{className:"user_radio-title"},"How much do you know about Star Wars?"),r.a.createElement("div",{className:"user_radio-div"},r.a.createElement("label",{className:"user_radio-label"},r.a.createElement("input",{className:"user_radio-input",type:"radio",name:"knowledgeLevel",value:"Star What?",onChange:function(a){return e.handleChange(a)}}),"Star What?")),r.a.createElement("div",{className:"user_radio-div"},r.a.createElement("label",{className:"user_radio-label"},r.a.createElement("input",{className:"user_radio-input",type:"radio",name:"knowledgeLevel",value:"Jedi in Training?",onChange:function(a){return e.handleChange(a)}}),"Jedi in Training")),r.a.createElement("div",{className:"user_radio-div"},r.a.createElement("label",{className:"user_radio-label"},r.a.createElement("input",{className:"user_radio-input",type:"radio",value:"My firtsborns name is yoda",name:"knowledgeLevel",onChange:function(a){return e.handleChange(a)}}),"My Firstborns names is Yoda"))),r.a.createElement(f.b,{to:"/movies"},r.a.createElement("button",{className:"user-submit-btn",type:"submit",disabled:!a,onClick:this.handleFormSubmit},"ENTER"))))}}]),a}(n.Component)),_=function(e){var a=e.slice(0,10).map((function(e){return fetch(e).then((function(e){return e.json()})).then((function(e){var a=e.name,t=e.homeworld,n=e.species,r=e.films,s=k(n).then((function(e){return e})),i=w(t).then((function(e){return e})),c=y(r).then((function(e){return e}));return Promise.all([s,i,c]).then((function(e){return{name:a,species:e[0],homeworld:e[1].name,population:e[1].population,films:e[2]}}))}))}));return Promise.all(a)},w=function(e){return fetch(e).then((function(e){return e.json()})).then((function(e){return{name:e.name,population:e.population}}))},k=function(e){return fetch(e).then((function(e){return e.json()})).then((function(e){return e.name}))},y=function(e){var a=e.map((function(e){return S(e).then((function(e){return e}))}));return Promise.all(a)},S=function(e){return fetch(e).then((function(e){return e.json()})).then((function(e){return e.title}))},F=function(e){function a(){var e;return Object(l.a)(this,a),(e=Object(u.a)(this,Object(m.a)(a).call(this))).submitUser=function(a){e.setState({user:a,haveUser:!0})},e.getCharacters=function(a){e.setState({isLoading:!0}),_(a).then((function(a){return e.setState({selectedCharacters:a,isLoading:!1})})).catch((function(a){return e.setState({error:"Something is wrong in the universe"})}))},e.addFavorite=function(a){var t=e.state.favorites,n=[].concat(Object(c.a)(t),[a]);e.setState({favorites:n})},e.removeFavorite=function(a){var t=e.state.favorites.filter((function(e){return e.name!==a.name}));e.setState({favorites:t})},e.updateFavs=function(a){e.state.favorites.map((function(e){return e.name})).includes(a.name)?e.removeFavorite(a):e.addFavorite(a)},e.state={user:{},movies:[],selectedCharacters:[],favorites:[],haveUser:!1,isLoading:!0,error:""},e}return Object(d.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://swapi.co/api/films/").then((function(e){if(!e.ok)throw Error("Error getting your movies. Try again later.");return e.json()})).then((function(e){return e.results.map((function(e){return{episode_id:e.episode_id,title:e.title,release_date:e.release_date,opening_crawl:e.opening_crawl,characters:e.characters}}))})).then((function(a){return e.setState({movies:a,isLoading:!1})})).catch((function(a){return e.setState({error:"Something is wrong in the universe"})}))}},{key:"render",value:function(){var e=this,a=this.state,t=a.user,n=a.movies,s=a.selectedCharacters,i=a.favorites,c=a.haveUser,l=a.isLoading,o=a.error;return r.a.createElement("div",{className:"App"},r.a.createElement(h.a,{exact:!0,path:"/",render:function(){return r.a.createElement(N,{submitUser:e.submitUser})}}),r.a.createElement("main",null,c&&r.a.createElement(v,Object.assign({},t,{favorites:i})),o&&r.a.createElement("h2",null,o),r.a.createElement(h.a,{exact:!0,path:"/movies",render:function(){return r.a.createElement(E,{movies:n,getCharacters:e.getCharacters})}}),r.a.createElement(h.a,{exact:!0,path:"/movies/:id",render:function(a){var t=a.match,i=n.find((function(e){return e.episode_id===parseInt(t.params.id)}));return r.a.createElement(b,{characters:s,updateFavs:e.updateFavs,movieInfo:i,isLoading:l})}}),r.a.createElement(h.a,{exact:!0,path:"/favorites",render:function(){return r.a.createElement(b,{characters:i,updateFavs:e.updateFavs})}})))}}]),a}(n.Component),j=r.a.createElement(f.a,null,r.a.createElement(F,null));i.a.render(j,document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.c7b9acfb.chunk.js.map